<script>
(()=>{ 'use strict';
  const AppBehavior = {
    properties: {
    },
    listeners: {
    },
    decodeHtml(string) {
      // decode & encode html entity using javascript.
      //https://gist.github.com/CatTail/4174511
      var decodeHtmlEntity = function(str) {
        return str.replace(/&#(\d+);/g, (match, dec) => {
          return String.fromCharCode(dec);
        });
      };
      return decodeHtmlEntity(string);
    },
    // NOT WORKING
    convertStringToHtml(string) {
      var xmlString = string,
          parser = new DOMParser(),
          doc = parser.parseFromString(xmlString, "text/xml");
          console.log(doc);
      return doc;
    },
    // NOT WORKING
    // stackoverflow.com/questions/27561930/auto-convert-html-string-to-element
    injectBoundHTML(html, element) {
      var template = document.createElement('template', 'dom-bind');
      var doc = template.content.ownerDocument;
      var div = doc.createElement('div');
      div.innerHTML = html;
      template.content.appendChild(div);
      while (element.firstChild) {
          element.removeChild(element.firstChild);
      }
      element.appendChild(Polymer.Base.instanceTemplate(template));
    }
  };

  (window.SZN = window.SZN || {}).AppBehavior = AppBehavior;
})();
</script>
